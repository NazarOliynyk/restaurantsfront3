


<form class="inputForm" *ngIf="reasonOfCancelationInput" #responsePositiveForm>
  <button type="button" class="close" aria-label="Close"
          (click)="closeShowCAncelation()">
    <span aria-hidden="true">&times;</span></button>
  Comment <b>cancellation</b> of order from: {{order.date| date}}<br>
  <textarea [(ngModel)]="reasonOfCancelation"
            name="responseString"
            type="text" placeholder="responseString"
            rows="3" style="width: 370px"></textarea><br>
  <button (click)="cancellTotally(responsePositiveForm)">Post RESPONSE</button>
</form>

<form class="inputForm" *ngIf="responsePositiveInput" #responsePositiveForm>
  <button type="button" class="close" aria-label="Close"
          (click)="closeResponsePositive()">
    <span aria-hidden="true">&times;</span></button>
  Comment <b>positive response</b> of order from: {{order.date| date}}<br>
  <textarea [(ngModel)]="responsePositiveString"
            name="responseString"
            type="text" placeholder="responseString"
            rows="3" style="width: 370px"></textarea><br>
  <button (click)="makePositiveResponse(responsePositiveForm)">Post RESPONSE</button>
</form>

<form class="inputForm" *ngIf="responseNegativeInput" #responsePositiveForm>
  <button type="button" class="close" aria-label="Close"
          (click)="closeResponseNegative()">
    <span aria-hidden="true">&times;</span></button>
  Comment <b>negative response</b> of order from: {{order.date| date}}<br>
  <textarea [(ngModel)]="responseNegativeString"
            name="responseString"
            type="text" placeholder="responseString"
            rows="3" style="width: 370px"></textarea><br>
  <button (click)="makeNegativeResponse(responsePositiveForm)">Post RESPONSE</button>
</form>


<div *ngIf="showMealsOfOrder" class="mealsOfOrder">
  <button type="button" class="close" aria-label="Close"
          (click)="closeMealsOfOrder()">
    <span aria-hidden="true">&times;</span></button>
    <h5>Info about current order: </h5>
    DATE: {{order.date | date:'medium'}} <br>
    CLIENT: {{order.client.username}} <br>
    STATUS: {{order.orderStatus}} <br>
    <button (click)="acceptToKitchen(order)">Accept to kitchen </button>
    <button (click)="deleteOrder(order)">Delete Order</button>
    <button (click)="cancelOrder(order)">Cancel</button>
    <button (click)="positiveResponse(order)">Positive Response </button>
    <button (click)="negativeResponse(order)">Negative Response </button>
    <h5>The list of meals of order by client: {{order.client.username}}</h5>
    <table class="table table-hover" >
      <tr>
        <th >IMAGE</th>
        <th >SECTION OF MENU</th>
        <th >NAME</th>
        <th >DESCRIPTION</th>
        <th >QUANTITY</th>
        <th >PRICE UAH</th>
      </tr>
      <tr *ngFor="let m of mealsOfOrder">
        <!--<td><img [src]="'assets/images/'+m.avatar" alt=""></td>-->
        <td><img [src]="'ava/'+m.avatar" alt=""></td>
        <td>{{m.menuSection.name}}</td>
        <td>{{m.name}}</td>
        <td>{{m.description}}</td>
        <td>{{m.quantity}}</td>
        <td>{{m.price | number: '1.2-2'}}</td>
      </tr>
    </table>

  </div>


<!--<div *ngIf="showOrderList">-->
<div>
  <div class="flex-container-5">

    <div *ngFor="let o of orders" class="flex-container1-div" >

      DATE: {{o.date | date:'medium'}} <br>
      CLIENT: {{o.client.username}} <br>
      STATUS: {{o.orderStatus}} <br>
      RESPONSES positive/negative:
        <button (click)="showResponses(o.restaurant, o.client)" class="btn-outline-light btn-sm">
          <b style="color:green">{{o.client.clientPositiveResponses}}</b> /
          <b style="color: red">{{o.client.clientNegativeResponses}}</b></button>
      <button (click)="getOrderMeals(o)">Get Details of Order</button>
    </div><br>
  </div>
</div>
